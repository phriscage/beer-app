<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage async="false" continueOnError="false" enabled="true" name="GenerateAuthorizationCodeQueryParamResponse">
    <DisplayName>GenerateAuthorizationCodeQueryParamResponse</DisplayName>
    <FaultRules/>
    <Properties/>
    <Add>
        <Headers>
            <Header name="X-OAuth-Authorization-Code">{oauthv2authcode.GenerateAuthorizationCodeQueryParam.code}</Header>
            <Header name="Location">{oauthv2authcode.GenerateAuthorizationCodeQueryParam.redirect_uri}</Header>
        </Headers>
    </Add>
    <Set>
        <Payload contentType="application/json; charset=utf-8">
        {
            "code": "{oauthv2authcode.GenerateAuthorizationCodeQueryParam.code}",
            "client_id": "{oauthv2authcode.GenerateAuthorizationCodeQueryParam.client_id}",
            "client_name": "{apigee.developer.app.name}",
            "redirect_uri": "{oauthv2authcode.GenerateAuthorizationCodeQueryParam.redirect_uri}",
            "scope": "{oauthv2authcode.GenerateAuthorizationCodeQueryParam.scope}",
            "current_time": "{custom.iso8601Timestamp}"
        }
    </Payload>
    </Set>
    <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
    <AssignTo createNew="false" transport="http" type="request"/>
</AssignMessage>